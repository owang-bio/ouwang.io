<!DOCTYPE html>
<html lang="en-us">

<head><title>
    Python Dateutil Module | 
    
    Data Analyst&#39;s Blog</title>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<meta name="description" content="relativedelta() in dateutil module
    ">


<meta property="og:title" content="Python dateutil module" />
<meta property="og:description" content="relativedelta() in dateutil module" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://owang-bio.github.io/ouwang.io/python-for-data-analyst/dateutil_module/" /><meta property="article:section" content="python-for-data-analyst" />
<meta property="article:published_time" content="2021-06-20T19:57:25-06:00" />
<meta property="article:modified_time" content="2021-06-20T19:57:25-06:00" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Python dateutil module"/>
<meta name="twitter:description" content="relativedelta() in dateutil module"/>

<meta itemprop="name" content="Python dateutil module">
<meta itemprop="description" content="relativedelta() in dateutil module"><meta itemprop="datePublished" content="2021-06-20T19:57:25-06:00" />
<meta itemprop="dateModified" content="2021-06-20T19:57:25-06:00" />
<meta itemprop="wordCount" content="477">
<meta itemprop="keywords" content="Python,datetime,timedelta," />
<link rel="canonical" href="https://owang-bio.github.io/ouwang.io/python-for-data-analyst/dateutil_module/" />

<link rel="icon" type="image/png" href="https://owang-bio.github.io/ouwang.io/image/favicon.ico">

<link rel="stylesheet" href="/ouwang.io/css/font-awesome.min.css">
<link rel="stylesheet" href="/ouwang.io/css/bulma.min.css">



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'analytics-code', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>



<script src=/ouwang.io/js/ramium.js></script>
<link rel="stylesheet" href=/ouwang.io/css/ramium.css>





</head>

<body><nav class="navbar is-dark" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
    <a class="navbar-item" href=/ouwang.io/>
      
      <strong>Data Analyst&#39;s Blog </strong>
      
    </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false"
      data-target="navbarBasicExample">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarBasicExample" class="navbar-menu">
    <div class="navbar-start">
      
      
      <a class="navbar-item" href="/ouwang.io/">Home</a>
      
      
      
      <div class="navbar-item has-dropdown is-hoverable">
        <a class="navbar-link">This Blog</a>
        <div class="navbar-dropdown">
          
          <a class="navbar-item" href="/ouwang.io/tags/">All Tags</a>
          
          <a class="navbar-item" href="/ouwang.io/sections/">All Sections</a>
          
          <a class="navbar-item" href="/ouwang.io/posts/">All Posts</a>
          
        </div>
      </div>
      
      
      
      <a class="navbar-item" href="/ouwang.io/author/">Author</a>
      
      
    </div>

    <div class="navbar-end">
      

      
      <div class="navbar-item">
        <form id="cse-search-box-form-id" onsubmit="return executeQuery();" role="search">
          <div class="field has-addons">
            <div class="control is-expanded">
              <input id="cse-search-input-box-id" size=15 class="input" type="text" autocomplete="off"
                placeholder="&#xf1a0; Google search" style="font-family:Arial, FontAwesome">
            </div>

            <div class="control">
              <button type="submit" class="button is-black">
                <i class="fa fa-search"></i>
                </a>
              </button>
            </div>
          </div>
        </form>
      </div>
      
    </div>
  </div>
</nav><div class="columns is-centered">
        <div id="page-body" class="column is-7">

<div class="content blog">
    <h1>Python Dateutil Module</h1>

    <div id="infobar" class="level is-mobile">
        <div class="level-left">
            
            <div class="level-item">
                <p class="subtitle info date">Jun 20, 2021
                </p>
            </div>
            

            <div class="level-item">
                <p class="subtitle info">
                    3 mins read
                </p>
            </div>
        </div>
        <div class="level-right is-hidden-touch">
            <div class="tags">
                
                <a class="tag is-dark is-rounded" href="/ouwang.io/tags/python">Python</a>
                
                <a class="tag is-dark is-rounded" href="/ouwang.io/tags/datetime">Datetime</a>
                
                <a class="tag is-dark is-rounded" href="/ouwang.io/tags/timedelta">Timedelta</a>
                
            </div>
        </div>
    </div>

    <div class="tags is-hidden-desktop">
        
        <a class="tag is-dark is-rounded" href="/ouwang.io/tags/python">Python</a>
        
        <a class="tag is-dark is-rounded" href="/ouwang.io/tags/datetime">Datetime</a>
        
        <a class="tag is-dark is-rounded" href="/ouwang.io/tags/timedelta">Timedelta</a>
        
    </div>

    <div class="blog-text">
        

        <p>When we need to do any operations between two date/datetime objects, for example, addition or subtraction, we will need datedelta/timedelta. Unfortunately, the timedelta class included in datetime module has limited functions (in case you are interested: <a href="https://docs.python.org/3/library/datetime.html#timedelta-objects">documentation</a>). Python Numpy and Pandas have datedelta/timedelta objects, but if we are dealing with single datetime object, I found that dateutil is more intuitive. Although dateutil has many powerful functions, I will only introduce one function, the relativedelta(), which I use the most frequently.
In the future, I will write another post about Pandas&rsquo;s date/timedelta.</p>
<p>&nbsp;</p>
<p><strong>relativedelta()</strong></p>
<p>relativedelta() is a class method of relativedelta under dateutil module. There are 2 ways to create the timedelta.</p>
<p>The first way:</p>
<pre><code>relativedelta(datetime1, datetime2)
</code></pre><p>The second way:</p>
<pre><code>relativedelta(arg1=x,arg2=y,arg3=z...)
</code></pre><p>I use the second way more often than the first way. Here is the <a href="https://dateutil.readthedocs.io/en/stable/relativedelta.html">huge list of arguments</a> that we can provide to relativedelta(). I use &ldquo;years&rdquo;, &ldquo;months&rdquo;, &ldquo;weeks&rdquo;, and &ldquo;days&rdquo; more frequently than the others. Notice, <strong>they are all plural</strong>, and their singular form has different meanings to this function.</p>
<p>It might work better if I use an example to explain how it works:</p>
<pre><code>import datetime 

# import relativedelta
from dateutil import relativedelta

# create date object: 2021-06-01
dt = datetime.date(2021, 6, 1)

# create datedelta: +1
delta = relativedelta.relativedelta(months=+1)

# add the delta to the date
print(dt + delta)
</code></pre><p>The output is:</p>
<pre><code>2021-07-01
</code></pre><p>The original date is 2021-06-01, and we are adding 1 month to it so the output is 2021-07-01. If we want to subtract 1 month from it, we set the argument <strong>months to -1</strong> (months=-1). The python code would be:</p>
<pre><code>import datetime

# import relativedelta
from dateutil import relativedelta

# create date object: 2021-06-01
dt = datetime.date(2021, 6, 1)

# create datedelta: -1
delta = relativedelta.relativedelta(months=-1)

# add the delta to the date
print(dt + delta)
</code></pre><p>And the output would be:</p>
<pre><code>2021-05-01
</code></pre><p>We can simply make any combination of arguments of &ldquo;years&rdquo;, &ldquo;weeks&rdquo;, and &ldquo;days&rdquo;&hellip; to create the datetimedelta that we need.</p>
<p>I use datedelta/timedelta pretty much in all my Python scripts if there is a need of relative dates. One example is:</p>
<pre><code>import datetime
from dateutil import relativedelta

# get today's date
today = datetime.date.today() 

# get current month, use the first day so day argument is set to 1
current_month = datetime.date(today.year, today.month, 1) 

# create delta, -6 months
delta = relativedelta.relativedelta(months=-6)

# get the date of 6 month ago relative to current month
six_month_ago = current_month + delta
</code></pre><p>In this way, every time I run this script, I can always get the date of six month ago relative to current month, without the need to do any calculation or type in the date manually. It can also be helpful when you connect to database server with Python and need to write SQL queries that involves relative dates.</p>
<p>That&rsquo;s it for relativedelta() in dateutil module. Hope you find it useful!</p>

    </div>
</div><div id="social-media-share" class="has-text-centered">
	<p><i>Sharing is caring!</i></p>
	<br>
	
	<div class="share-buttons">
	    <a  href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Facebook. Opens in a new window.">
	        <img src=/ouwang.io/img/icons/45px/facebook.png>
	    </a>

	    <a  href="https://twitter.com/intent/tweet?text=Python%20dateutil%20module&url=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        onclick="socialMediaPopUp(this.href, '', 500, 500); return false;"
	        title="Share on Twitter. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/twitter.png>
	    </a>

		<a  href="http://www.reddit.com/submit?url=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Reddit. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/reddit.png>
	    </a>

	    <a  href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Pinterest. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/pinterest.png>
	    </a>

	    <a  href="http://www.tumblr.com/share/link?url=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on Tumblr. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/tumblr.png>
	    </a>

		<a  href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f
			&title=Python%20dateutil%20module&summary=When%20we%20need%20to%20do%20any%20operations%20between%20two%20date%2fdatetime%20objects%2c%20for%20example%2c%20addition%20or%20subtraction%2c%20we%20will%20need%20datedelta%2ftimedelta.%20Unfortunately%2c%20the%20timedelta%20class%20included%20in%20datetime%20module%20has%20limited%20functions%20%28in%20case%20you%20are%20interested%3a%20documentation%29.%20Python%20Numpy%20and%20Pandas%20have%20datedelta%2ftimedelta%20objects%2c%20but%20if%20we%20are%20dealing%20with%20single%20datetime%20object%2c%20I%20found%20that%20dateutil%20is%20more%20intuitive.%20Although%20dateutil%20has%20many%20powerful%20functions%2c%20I%20will%20only%20introduce%20one%20function%2c%20the%20relativedelta%28%29%2c%20which%20I%20use%20the%20most%20frequently.&source=rafed123.github.io"
	        onclick="socialMediaPopUp(this.href, '', 900, 500); return false;"
	        title="Share on LinkedIn. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/linkedin.png>
	    </a>

	    <a  href="mailto:?subject=Python%20dateutil%20module&amp;body=Check out this site https%3a%2f%2fowang-bio.github.io%2fouwang.io%2fpython-for-data-analyst%2fdateutil_module%2f"
	        title="Share via Email. Opens in a new window." >
	        <img src=/ouwang.io/img/icons/45px/mail.png>
	    </a>
	</div>
</div>


<br>
<div id="disqus_thread"></div>
<script type="text/javascript">
    (function () {
        
        
        if (window.location.hostname == "localhost")
            return;

        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        var disqus_shortname = '';
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


        </div>
    </div>
<script async src="https://cse.google.com/cse.js?cx=google-search-code"></script>
<gcse:searchresults-only></gcse:searchresults-only>


<footer class="footer has-background-dark">
    <div class="content has-text-centered has-text-white">
        <p>
            © Ou. Powered by
            <a class="has-text-light" href="https://github.com/gohugoio/hugo" target="_blank">
            Hugo</a>. Theme
            <a class="has-text-light" href="https://github.com/rafed123/ramium/" target="_blank">
                Ramium.
            </a>
        </p>
    </div>
</footer>
</body>

</html>